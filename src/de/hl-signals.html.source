<p>Der Signallayer stellt ab sofort auch Kombinations- und Vorsignale des Hl-Systems der Deutschen Reichsbahn dar (<a href="http://www.openrailwaymap.org/?lang=de&lat=51.28036037134125&lon=11.563324928283691&zoom=14&style=signals">Beispiel</a>).</p>
<p>Die Implementierung hat sich aufgrund der vielen Signalbilder deutlich aufwendiger gestaltet als bei den H/V-Signalen. Beim H/V-Signalsystem haben wir entschieden, aufgrund der geringen Icongröße (sonst wird zu viel von den Icons verdeckt) nur das Hauptsignal darzustellen, auch wenn am selben Mast (oder wenige Meter davor) noch ein Vorsignal hängt. Damit reduzierte sich die mögliche Anzahl an Signalkombinationen erheblich. Bei H/V-Signalen können wir mit drei Icons für Licht- und drei für Formhauptsignale alles darstellen.</p>
<p>Zuerst einmal eine kurze Erläuterung des Hl-Signalsystems für Leute, denen das Verständnis anfangs schwer fällt. Beim Hl-System ist das nicht so einfach. Es vereint Vor- und Hauptsignalfunktionen in einem Schirm und hat bis zu fünf Lampen. Manche Kombinationssignale haben auch noch zwei zusätzliche Lichtstreifen zur Signalisierung der Geschwindigkeiten 60 und 100 km/h. Signalbilder mit blinkenden Lampen können in statischen Kartenkacheln nicht dargestellt werden. Somit entfallen schon einmal die Signalbilder <a href="http://de.wikipedia.org/wiki/Datei:Hl4.png">Hl 4</a>, <a href="http://de.wikipedia.org/wiki/Datei:Hl5.png">Hl 5</a>, <a href="http://de.wikipedia.org/wiki/Datei:Hl6a.png">Hl 6a</a>, <a href="http://de.wikipedia.org/wiki/Datei:Hl6b2b.png">Hl 6b</a>, <a href="http://de.wikipedia.org/wiki/Datei:Hl7.png">Hl 7</a>, <a href="http://de.wikipedia.org/wiki/Datei:Hl8.png">Hl 8</a>, <a href="http://de.wikipedia.org/wiki/Datei:Hl9a.png">Hl 9a</a> und <a href="http://de.wikipedia.org/wiki/Datei:Hl9b.png">Hl 9b</a>.</p>
<p>Die oberen Lampen übernehmen die Vorsignalfunktion (Fahrt erwarten, 100 km/h erwarten, 40/60 km/h erwarten, Halt erwarten). In der Mitte sitzt die rote Lampe für <a href="http://de.wikipedia.org/wiki/Datei:HL13.png">Hp 0</a> (es gibt noch ein <a href="http://de.wikipedia.org/wiki/Datei:HL13_Ersatzlampe.png">Ersatzrot</a> unten rechts). Die gelbe Lampe unten links leuchtet, wenn ab dem Signalstandort nicht Fahrt mit Höchstgeschwindigkeit (im Westen <a href="http://de.wikipedia.org/wiki/H/V-Signalsystem#Hp_1_.2F_Vr_1">Hp 1</a>) oder Langsamfahrt (im Westen <a href="http://de.wikipedia.org/wiki/H/V-Signalsystem#Hp_2_.2F_Vr_2">Hp 2</a>) gilt. Leuchte diese gelbe untere Lampe, so bedeutet das Langsamfahrt mit 40 km/h. Mit einem gelben oder grünen Lichtstreifen darunter kann das zu 60 bzw. 100 km/h angehoben werden.</p>
<p>Aber nun zurück zur Karte. Die Icons sollten, wie auch bei den H/V-Signalen, dem Kartennutzer anzeigen, welche Signalbilder das Signal anzeigen kann. Wenn in den OpenStreetMap-Daten nicht hinterlegt ist, welche Signalbilder das Signal anzeigen kann, wird Hp 0 in der Hl-Variante (rotes Licht in der Mitte des Signalschirms) dargestellt. Grundsätzlich wird nur das Tag <i>railway:signal:main:states</i> bzw. <i>railway:signal:combined:states</i> ausgewertet. Ob es sich um ein Block-, Einfahr-, Zwischen- oder Ausfahrsignal handelt, ist irrelevant.</p>
<p>Blocksignale können nur <a href="http://de.wikipedia.org/wiki/Datei:Hl1.png">Hl 1</a>, <a href="http://de.wikipedia.org/wiki/Datei:Hl10.png">Hl 10</a>¹ und Hp 0 anzeigen (anders ausgedrückt: Sie können kein <a href="http://de.wikipedia.org/wiki/Datei:Hl2.png">Hl 2</a>, <a href="http://de.wikipedia.org/wiki/Datei:Hl3a.png">Hl 3a</a> und <a href="http://de.wikipedia.org/wiki/Datei:Hl3b.png">Hl 3b</a> anzeigen). Sie werden als <a href="http://de.wikipedia.org/wiki/Datei:Hl1.png">Hl 1</a> (grünes Licht/Signal ohne Vorsignalfunktion) bzw. als <a href="http://de.wikipedia.org/wiki/Datei:Hl10.png">Hl 10</a> (gelbes Licht/Signal mit Vorsignalfunktion²) dargestellt.</p>
<p>Wenn der Zusatzschirm für die Lichtbalken nicht installiert ist, kann das Signal nicht <a href="http://de.wikipedia.org/wiki/Datei:Hl2.png">Hl 2</a> und <a href="http://de.wikipedia.org/wiki/Datei:Hl3b.png">Hl 3b</a> anzeigen. Es wird dann bei Signalen ohne Vorsignalfunktion <a href="http://de.wikipedia.org/wiki/Datei:Hl3a.png">Hl 3a</a> (oben grünes, unten gelbes Licht) und bei Signalen mit Vorsignalfunktion <a href="http://de.wikipedia.org/wiki/Datei:Hl12a.png">Hl 12a</a> (oben gelbes, unten gelbes Licht) angezeigt.</p>
<p>Wenn der Zusatzschirm für den Lichtbalken zwar installiert ist, aber nur einen gelben Lichtstreifen anzeigen kann (die grünen Lampen fehlen dann), wird Hl 3b (oben grünes, darunter gelbes Licht, unten gelber Balken) bei Signalen ohne Vorsignalfunktion und <a href="http://de.wikipedia.org/wiki/Datei:Hl12b.png">Hl 12b</a> (oben gelbes, darunter gelbes Licht, unten gelber Balken) bei Signalen mit Vorsignalfunktion angezeigt.</p>
<p>Wenn der Zusatzschirm grüne und gelbe Lichtbalken anzeigen kann, wird <a href="http://de.wikipedia.org/wiki/Datei:Hl2.png">Hl 2</a> (oben grünes, darunter gelbes Licht, unten grüner Balken) bei Signalen ohne Vorsignalfunktion und <a href="http://de.wikipedia.org/wiki/Datei:Hl11.png">Hl 11</a> (oben gelbes, darunter gelbes Licht, unten grüner Balken) bei Signalen mit Vorsignalfunktion angezeigt.</p>
<p>Bei Hl-Vorsignalen wird <a href="http://de.wikipedia.org/wiki/Datei:Hl1.png">Hl 1</a> mit dem Signal <a href="http://commons.wikimedia.org/wiki/File:Ne_2.svg">Ne 2</a> (Vorsignaltafel) gekennzeichnet.</p>
<p>Jetzt bleiben nur noch zwei Eisenbahnsignalsysteme übrig, die die OpenRailwayMap nicht darstellt – das Sk-System (Signalkombination, Augsburg–Donauwörth) und das Sv-System (noch bei der Hamburger S-Bahn im Einsatz). Wenn du auch das Signalsystem deines Landes (wir rendern derzeit nur österreichische Trapeztafeln, da diese mit den deutschen identisch sind) auf der OpenRailwayMap sehen möchtest, dann stelle uns bitte Folgendes zur Verfügung:</p>
<ul>
	<li>deutsch- oder englischsprachige Beschreibung des Signalsystems</li>
	<li>geeignete Icons im SVG-Format</li>
	<li>Vorschläge für Renderingregeln (muss nicht gleich schon als MapCSS-Code implementiert sein)</li>
</ul>
<p>¹ nur bei Hl-Signalen in deren Bremsweg ein Signal mit Hauptsignalfunktion steht, erkennbar an railway:signal:main=hl am Signal</p>
<p>² erkennbar am gelben Dreieck auf dem Mastschild</p>
